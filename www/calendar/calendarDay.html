<ion-view view-title=""> 
    <ion-nav-buttons side="primary">
        <button ng-click="redirect('tab/calendarweek/')" class="button button-icon">Week</button>
        <button ng-click="redirect('tab/calendarDay/')" class="button button-icon">Today</button>
    </ion-nav-buttons>

    <ion-nav-buttons side="secondary">
        <!-- <button ng-click="refresh()" class="button button-icon icon ion-ios-loop-strong"></button> -->
        <button ng-click="openModal('new')" class="button button-icon icon ion-android-add"></button>
    </ion-nav-buttons>

    <ion-content >
        <label class="item item-input">
            <textarea ng-model="weeksummaryObj.summary" placeholder="Make A Summary~" rows="5" style="font-size:17px;line-height:1.25;"></textarea>
        </label>

        <a 
            ng-repeat="day in days"  
            href="#/tab/articlelist/{{day.date}}"            
            class="button button-full button-large button-dark " 
            style="line-height:1.75;margin:3px 3px;" 
            >

            {{day.summary}}
            
            <br>

            {{day.dateInChinese}}
        </a>
        <div class="item item-divider">
            本周笔记
        </div>
        <ion-list>
            <ion-item 
                ng-repeat="article in articles"
                ng-click="openModal(article)" 
                class="item-remove-animate item-avatar item-icon-right"  
                type="item-text-wrap" 
                >
                <div 
                    style="
                        display: inline-block;
                        position: absolute;
                        left: 0;"
                >
                    <button class="button {{article.buttonStyle}}" style="margin: 0 0 0 10px;padding:0;">
                        {{article.date_and_time|TimeToDate}}
                    </button>
                </div>

                <h2>{{article.content}}</h2>
                <p>{{article.content.slice(20)}}</p>
                <i class="icon ion-chevron-right icon-accessory"></i>
                <ion-option-button class="button-assertive" ng-click="remove(article)">
                    Delete
                </ion-option-button>
            </ion-item>
        </ion-list>
        <ion-infinite-scroll
            on-infinite="loadMore()"
            distance="1%"
            ng-if="moreDataCanBeLoaded()">
        </ion-infinite-scroll>

    </ion-content>
</ion-view>
